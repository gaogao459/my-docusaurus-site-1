"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[2067],{2424:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>l,contentTitle:()=>r,default:()=>h,frontMatter:()=>a,metadata:()=>s,toc:()=>c});const s=JSON.parse('{"id":"make-ai-agents/ai-agent-best-practices","title":"AI agent best practices","description":"AI agents are powerful AI systems that can run workflows for you with minimal human intervention. However, they are only as good as their setup and instructions; poorly designed agents can lead to inconsistent and undesirable outcomes.","source":"@site/docs/make-ai-agents/ai-agent-best-practices.md","sourceDirName":"make-ai-agents","slug":"/make-ai-agents/ai-agent-best-practices","permalink":"/docs/make-ai-agents/ai-agent-best-practices","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"title":"AI agent best practices"},"sidebar":"tutorialSidebar","previous":{"title":"Translate Your Site","permalink":"/docs/tutorial-extras/translate-your-site"},"next":{"title":"AI agent use case","permalink":"/docs/make-ai-agents/ai-agent-use-case"}}');var i=t(4848),o=t(8453);const a={title:"AI agent best practices"},r="AI agent best practices",l={},c=[{value:"Tools",id:"tools",level:2},{value:"Tool naming",id:"tool-naming",level:3},{value:"Input and output naming",id:"input-and-output-naming",level:3},{value:"Debugging in tools",id:"debugging-in-tools",level:3},{value:"Prompting",id:"prompting",level:2},{value:"Global system prompts",id:"global-system-prompts",level:3},{value:"Redundancy in AI-assisted prompts",id:"redundancy-in-ai-assisted-prompts",level:3},{value:"Additional prompts in tools",id:"additional-prompts-in-tools",level:3},{value:"Data security and access",id:"data-security-and-access",level:2},{value:"Agent access to information",id:"agent-access-to-information",level:3},{value:"Limits of user-imposed constraints",id:"limits-of-user-imposed-constraints",level:3},{value:"Model configuration",id:"model-configuration",level:2},{value:"Knowledge enhancement",id:"knowledge-enhancement",level:2},{value:"Cost optimization",id:"cost-optimization",level:2},{value:"Token usage",id:"token-usage",level:3},{value:"Choice of starter LLM",id:"choice-of-starter-llm",level:3}];function d(e){const n={h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",strong:"strong",ul:"ul",...(0,o.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"ai-agent-best-practices",children:"AI agent best practices"})}),"\n",(0,i.jsx)(n.h1,{id:"title-ai-agent-best-practices--",children:"Title: AI agent best practices -"}),"\n",(0,i.jsx)(n.p,{children:"AI agents are powerful AI systems that can run workflows for you with minimal human intervention. However, they are only as good as their setup and instructions; poorly designed agents can lead to inconsistent and undesirable outcomes."}),"\n",(0,i.jsx)(n.p,{children:"This guide outlines tips for building effective AI agents in Make, including tool naming, prompting, data access, and more."}),"\n",(0,i.jsx)(n.p,{children:"After reading, you'll have the foundational knowledge to design AI agents that can perform as expected."}),"\n",(0,i.jsx)(n.h2,{id:"tools",children:"Tools"}),"\n",(0,i.jsx)(n.p,{children:"If a Large Language Model (LLM) is an AI agent's brain, tools are its hands and actions \u2013 they give the agent the capabilities to do its job. Currently in Make, your agent's tools are scenarios"}),"\n",(0,i.jsx)(n.h3,{id:"tool-naming",children:"Tool naming"}),"\n",(0,i.jsx)(n.p,{children:"An agent chooses the right tool for a task based on your tool names and descriptions. Write concise names and descriptions that reflect the tool's purpose and when to run it."}),"\n",(0,i.jsx)(n.p,{children:'For example: "Add customer email to Customer Contacts table" as the scenario name and "This adds a new customer email address to the Customer Contacts table. Do not run this if \'@\' is missing" as the scenario description.'}),"\n",(0,i.jsx)(n.p,{children:"Well-named tools are essential when sharing scenarios as tools to external AI systems, such as agents, through  These systems rely on tool metadata (not the system prompt) to make the right decisions."}),"\n",(0,i.jsx)(n.h3,{id:"input-and-output-naming",children:"Input and output naming"}),"\n",(0,i.jsx)(n.p,{children:"Well-defined scenario inputs and outputs help the AI agent understand what data to receive and share. Inputs and output fields include:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"Name"}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"Type"}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"Description"}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"Default value"}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"Required (Yes/No)"}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"Multi-line (Yes/No)"}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:'Take advantage of this configuration to specify your requirements for inputs or outputs. For example: "customer_email" as the scenario input name and "Full name of the customer" as the description. It is a required text input.'}),"\n",(0,i.jsx)(n.p,{children:"You can also add stylistic requirements to input descriptions, if relevant. For example, you can specify that a string (text) input must be all lowercase, sentence case, all caps, and so on."}),"\n",(0,i.jsx)(n.h3,{id:"debugging-in-tools",children:"Debugging in tools"}),"\n",(0,i.jsx)(n.p,{children:"If you notice your agent returns suboptimal outputs, first check if the issue is with your tools. You can debug by adjusting tool-specific logic in tool names, descriptions, and input and output schemas."}),"\n",(0,i.jsx)(n.p,{children:'For example, you can add a hint in your tool description about when the agent should run the tool ("Only run when you have a bank user ID").'}),"\n",(0,i.jsx)(n.p,{children:"Also, check that all scenarios with an agent are activated; scenario errors can cause deactivation.(For handling errors in scenarios, see .)"}),"\n",(0,i.jsx)(n.p,{children:"You can adjust the logic in the system prompt if that change applies to all tools."}),"\n",(0,i.jsx)(n.h2,{id:"prompting",children:"Prompting"}),"\n",(0,i.jsx)(n.p,{children:"Make AI agent prompts serve two distinct but related functions: system instructions and user-agent communication."}),"\n",(0,i.jsxs)(n.p,{children:["The ",(0,i.jsx)(n.strong,{children:"System prompt"}),"serves as the core instructions guiding agent behavior, including role, limitations, and processes."]}),"\n",(0,i.jsx)(n.p,{children:"Prompting (or communicating with) agents involves task requests and instructions. You can send prompts in:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["Scenario-based ",(0,i.jsx)(n.strong,{children:"Messages"}),"in the ",(0,i.jsx)(n.strong,{children:"AI Agent > Run an agent"}),"module"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["The chat window, ",(0,i.jsx)(n.strong,{children:"Testing & Training"}),", in the ",(0,i.jsx)(n.strong,{children:"AI Agents"})," configuration tab"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"global-system-prompts",children:"Global system prompts"}),"\n",(0,i.jsx)(n.p,{children:"Keep the system prompt broad enough to enable your agent to work across different scenarios (e.g., quoting, inventory, and customer support). An overly specific prompt can risk restricting your agent's effectiveness to a limited set of tasks."}),"\n",(0,i.jsx)(n.p,{children:"For example, consider these two approaches to writing system prompts \u2013 specific or simple \u2013 for a content agent you expect to use across multiple content creation scenarios:"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Specific and restrictive prompt"})}),"\n",(0,i.jsx)(n.p,{children:'"You\'re a content agent designed to generate Instagram content under 150 characters. Drawing from various sources, you will write captions for lifestyle brands. Use an upbeat tone, two relevant hashtags, and three emojis. End the caption with a question to the audience."'}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Simple and global prompt"})}),"\n",(0,i.jsx)(n.p,{children:'"You\'re a content agent designed to generate and refine text across formats and platforms. You can produce engaging, informative, or persuasive content (including short-form, long-form, outlines, and more) tailored to audience needs and platform requirements."'}),"\n",(0,i.jsx)(n.p,{children:"The specific prompt restricts the agent in platform (Instagram), form (character count, emojis, hashtags), and task (social media caption writing), which limits its ability to help with other content-related tasks like SEO-optimized blog writing."}),"\n",(0,i.jsxs)(n.p,{children:["Keep system prompts general and include more specific instructions in the relevant scenario's description or ",(0,i.jsx)(n.strong,{children:"Messages"}),"field."]}),"\n",(0,i.jsx)(n.h3,{id:"redundancy-in-ai-assisted-prompts",children:"Redundancy in AI-assisted prompts"}),"\n",(0,i.jsxs)(n.p,{children:["If you are not an advanced prompt writer, you may benefit from using the ",(0,i.jsx)(n.strong,{children:"Improve"}),"button in ",(0,i.jsx)(n.strong,{children:"System prompt"}),", which enhances your prompt with AI. Overly lengthy prompts can increase the risk of LLM confusion or hallucinations; using AI to write prompts may contribute to this risk if you don't review its work."]}),"\n",(0,i.jsx)(n.p,{children:"Always review your AI-enhanced prompts for redundancies, such as repetitive or obvious instructions, and remove them. Similarly, edit or remove the Workflow section if it does not align with your process."}),"\n",(0,i.jsx)(n.h3,{id:"additional-prompts-in-tools",children:"Additional prompts in tools"}),"\n",(0,i.jsxs)(n.p,{children:["After writing your system prompt, you can add further specifications in tools. You can do this in ",(0,i.jsx)(n.strong,{children:"Messages"}),"and ",(0,i.jsx)(n.strong,{children:"Additional system instructions"})," in the ",(0,i.jsx)(n.strong,{children:"Make AI Agents > Run an agent"}),"module."]}),"\n",(0,i.jsxs)(n.p,{children:["In ",(0,i.jsx)(n.strong,{children:"Messages"}),", you can write a prompt or input that tells the agent what to do in that specific scenario, including limitations and conditions."]}),"\n",(0,i.jsx)(n.p,{children:"For example, in a social media caption scenario, you can instruct the agent to limit the length to 150 characters, avoid complex punctuation like em dashes or semicolons, and request human validation for specific topics."}),"\n",(0,i.jsxs)(n.p,{children:["In the optional ",(0,i.jsx)(n.strong,{children:"Additional system instructions"}),", you can add extra contextual information that the agent wouldn't get from the user."]}),"\n",(0,i.jsx)(n.p,{children:"For example, if users call your agent through communication channels like Slack or Telegram, you can use this field to pass metadata such as user type, timestamp, and profile name from that channel."}),"\n",(0,i.jsx)(n.h2,{id:"data-security-and-access",children:"Data security and access"}),"\n",(0,i.jsx)(n.p,{children:"LLMs are imperfect systems and still vulnerable to risk, such as PII disclosure in outputs or prompt hacking. The best precaution is to assume that anyone could successfully access what you share with your agent, including its tools and data."}),"\n",(0,i.jsx)(n.h3,{id:"agent-access-to-information",children:"Agent access to information"}),"\n",(0,i.jsx)(n.p,{children:"Agents only use the personal data you explicitly provide through tools and context files. To reduce data security risk, limit the agent's access to the data it needs to do its job, and avoid exposing it to sensitive, non-essential information."}),"\n",(0,i.jsx)(n.p,{children:"For example, instead of connecting the agent to a tool that exports your entire calendar, its access could be limited to a public calendar, with only free/busy slots listed."}),"\n",(0,i.jsx)(n.h3,{id:"limits-of-user-imposed-constraints",children:"Limits of user-imposed constraints"}),"\n",(0,i.jsx)(n.p,{children:"An agent's system prompt includes limitations and constraints, or rules. Limitations guide the agent's behavior by defining desirable and undesirable actions. For example, you can instruct your AI agent to:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"Limit engagement with off-topic queries"}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"Avoid sharing sensitive information in outputs"}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"Flag harmful or unsafe inputs"}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"Prioritize internal knowledge bases as references"}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"Prompt a human to validate outputs"}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"However, even with thorough, explicit guardrails, the agent could still behave unpredictably. In AI systems, constraints themselves have limitations: agents may not always follow them. Given the implications for data security, the most reliable constraint in this area is giving the agent minimal access to sensitive information."}),"\n",(0,i.jsx)(n.h2,{id:"model-configuration",children:"Model configuration"}),"\n",(0,i.jsxs)(n.p,{children:["In ",(0,i.jsx)(n.strong,{children:"Agent settings"}),"in the ",(0,i.jsx)(n.strong,{children:"AI Agents"})," configuration tab, you can improve how your agent functions by setting limits on its output tokens, execution steps, and thread history:"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Max Output Tokens"})}),"\n",(0,i.jsxs)(n.p,{children:["Agents can provide lengthy responses, which can get costly. Use ",(0,i.jsx)(n.strong,{children:"Max Output Tokens"})," to limit the number of tokens an agent outputs. If you set the maximum tokens too low, you may get incomplete responses. One token equals about 4 characters of text."]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Steps per Agent Call"})}),"\n",(0,i.jsx)(n.p,{children:"In rare cases, agents can get stuck in a loop, repeating the same actions without achieving their goal. Prevent this by limiting the execution steps an agent can take. A safe estimate for execution steps is to multiply your maximum expected number of tool calls by 10."}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Maximum number of agent runs in thread history"})}),"\n",(0,i.jsx)(n.p,{children:"Agents use thread history, similar to a chat history, to remember interactions with you. However, you may not want to keep the entire thread history. Doing so consumes additional tokens, as the agent needs to read the entire history during each execution. To save tokens, limit the number of previous messages the system stores. For example, if you only want to keep the last 5 messages, set this field to 5."}),"\n",(0,i.jsx)(n.h2,{id:"knowledge-enhancement",children:"Knowledge enhancement"}),"\n",(0,i.jsxs)(n.p,{children:["The LLM behind your agent doesn't know your internal knowledge and processes if they aren't publicly available. Improve your agent's decision-making by uploading private files to ",(0,i.jsx)(n.strong,{children:"Context"}),"in the ",(0,i.jsx)(n.strong,{children:"AI Agents"}),"configuration tab. These files serve as reference information for the agent."]}),"\n",(0,i.jsx)(n.p,{children:"Context files should contain fixed information that applies to all tools using an agent. For example:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"Company guidelines"}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"Internal knowledge bases (e.g., Confluence)"}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"Support tickets"}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"Community posts"}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"Company Slack conversations"}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Your files shouldn't include sensitive information when the agent will be used by users who shouldn't access that data."}),"\n",(0,i.jsx)(n.p,{children:"When deciding on files to upload, consider the garbage in, garbage out (GIGO) principle: poor-quality or unrepresentative inputs lead to similarly flawed outputs. Upload information that reflects the results you want the agent to reproduce. For example, do not upload poorly executed work as examples to follow."}),"\n",(0,i.jsx)(n.h2,{id:"cost-optimization",children:"Cost optimization"}),"\n",(0,i.jsx)(n.p,{children:"When using Make AI agents, you incur fees for Make operations and LLM provider (e.g., ChatGPT) tokens."}),"\n",(0,i.jsx)(n.p,{children:"Overall costs can rise quickly if using one thread ID, multiple tools, and advanced reasoning LLMs. Keep LLM costs low by optimizing your token usage and choosing a cost-effective LLM."}),"\n",(0,i.jsx)(n.h3,{id:"token-usage",children:"Token usage"}),"\n",(0,i.jsx)(n.p,{children:"Token usage depends on two main factors: the amount of information the LLM processes in requests and the number of user-to-LLM interactions."}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Data scope"})}),"\n",(0,i.jsx)(n.p,{children:"To reduce the amount of information an agent handles in a request, specify the data you want to pass to the agent and the data you want it to return. For example, instead of instructing the agent to scan an entire database, narrow the scope of its search to entries after June 1st, 2025."}),"\n",(0,i.jsx)(n.p,{children:"To limit the data handled in requests:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"Define scenario inputs and outputs."}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["Filter inputs before passing them into the agent. In a scenario, you can add a filter in the route before the ",(0,i.jsx)(n.strong,{children:"AI Agents > Run an agent"}),"module."]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["Store files with global information (e.g., contact details) in the agent's ",(0,i.jsx)(n.strong,{children:"Context"}),"."]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Interactions"})}),"\n",(0,i.jsx)(n.p,{children:"User-to-LLM interactions, which include your inputs and the LLM's outputs, also consume tokens."}),"\n",(0,i.jsx)(n.p,{children:"To reduce interactions, prioritize clarity in prompts and consolidate data requests instead of making multiple sequential requests. These strategies enable complete, accurate outputs sooner."}),"\n",(0,i.jsxs)(n.p,{children:["Additionally, when you use the same thread ID across ",(0,i.jsx)(n.strong,{children:"Make AI Agents"}),"module runs, the entire thread gets passed into the agent. If you don't need to reference your conversation history with an agent, leave the ",(0,i.jsx)(n.strong,{children:"Thread ID"}),"field blank. This action creates a new thread ID, which can significantly save costs."]}),"\n",(0,i.jsxs)(n.p,{children:["You can monitor token usage in the ",(0,i.jsx)(n.strong,{children:"Make AI Agents > Run an agent"})," output bundle in ",(0,i.jsx)(n.strong,{children:"tokenUsageSummary"}),", and on your LLM provider account."]}),"\n",(0,i.jsx)(n.h3,{id:"choice-of-starter-llm",children:"Choice of starter LLM"}),"\n",(0,i.jsx)(n.p,{children:"You have multiple LLMs to choose from for powering your AI agent, each with varying costs depending on factors like speed and reasoning abilities."}),"\n",(0,i.jsx)(n.p,{children:"When creating an AI agent, start with an LLM with a good speed-to-cost ratio. The ideal starter model is fast and inexpensive, such as OpenAI's GPT\u20114.1 mini. More advanced, slower models, like OpenAI's o3, can rapidly increase costs. Test how well an affordable model can achieve your goals, and scale up as needed."}),"\n",(0,i.jsx)(n.p,{children:"While a fast LLM performs well in many cases, the right model depends on what you want to do with an agent. Some LLMs are better suited for certain use cases than others, and many LLM providers classify their models accordingly."})]})}function h(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}},8453:(e,n,t)=>{t.d(n,{R:()=>a,x:()=>r});var s=t(6540);const i={},o=s.createContext(i);function a(e){const n=s.useContext(o);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:a(e.components),s.createElement(o.Provider,{value:n},e.children)}}}]);